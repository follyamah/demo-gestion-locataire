





{% extends "base.html" %}

{% block content %}






            <div class="container-fluid">




                            <style type="text/css">

                            .table-wrapper {
                                background: #fff;
                                padding: 20px 25px;
                                margin: 30px 0;
                            border-radius: 3px;
                                box-shadow: 0 1px 1px rgba(0,0,0,.05);
                            }
                            .table-title {
                            padding-bottom: 15px;
                            background: #4e73df;;
                            color: #fff;
                            padding: 16px 30px;
                            margin: -20px -25px 10px;
                            border-radius: 3px 3px 0 0;
                            }
                            .table-title h2 {
                            margin: 5px 0 0;
                            font-size: 24px;
                            }
                            .table-title .btn {
                            color: #566787;
                            float: right;
                            font-size: 13px;
                            background: #fff;
                            border: none;
                            min-width: 50px;
                            border-radius: 2px;
                            border: none;
                            outline: none !important;
                            margin-left: 10px;
                            }
                            .table-title .btn:hover, .table-title .btn:focus {
                                color: #566787;
                            background: #f2f2f2;
                            }
                            .table-title .btn i {
                            float: left;
                            font-size: 21px;
                            margin-right: 5px;
                            }
                            .table-title .btn span {
                            float: left;
                            margin-top: 2px;
                            }
                            table.table tr th, table.table tr td {
                                border-color: #e9e9e9;
                            padding: 12px 15px;
                            vertical-align: middle;
                            }
                            table.table tr th:first-child {
                            width: 60px;
                            }
                            table.table tr th:last-child {
                            width: 100px;
                            }
                            table.table-striped tbody tr:nth-of-type(odd) {
                              background-color: #fcfcfc;
                            }
                            table.table-striped.table-hover tbody tr:hover {
                            background: #f5f5f5;
                            }
                            table.table th i {
                                font-size: 13px;
                                margin: 0 5px;
                                cursor: pointer;
                            }
                            table.table td:last-child i {
                            opacity: 0.9;
                            font-size: 22px;
                                margin: 0 5px;
                            }
                            table.table td a {
                            font-weight: bold;
                            color: #566787;
                            display: inline-block;
                            text-decoration: none;
                            }
                            table.table td a:hover {
                            color: #2196F3;
                            }
                            table.table td a.settings {
                                color: #2196F3;
                            }
                            table.table td a.delete {
                                color: #F44336;
                            }
                            table.table td i {
                                font-size: 19px;
                            }
                            table.table .avatar {
                            border-radius: 50%;
                            vertical-align: middle;
                            margin-right: 10px;
                            }
                            .status {
                            font-size: 30px;
                            margin: 2px 2px 0 0;
                            display: inline-block;
                            vertical-align: middle;
                            line-height: 10px;
                            }
                            .text-success {
                                color: #10c469;
                            }
                            .text-info {
                                color: #62c9e8;
                            }
                            .text-warning {
                                color: #FFC107;
                            }
                            .text-danger {
                                color: #ff5b5b;
                            }
                            .pagination {
                                float: right;
                                margin: 0 0 5px;
                            }
                            .pagination li a {
                                border: none;
                                font-size: 13px;
                                min-width: 30px;
                                min-height: 30px;
                                color: #999;
                                margin: 0 2px;
                                line-height: 30px;
                                border-radius: 2px !important;
                                text-align: center;
                                padding: 0 6px;
                            }
                            .pagination li a:hover {
                                color: #666;
                            }
                            .pagination li.active a, .pagination li.active a.page-link {
                                background: #03A9F4;
                            }
                            .pagination li.active a:hover {
                                background: #0397d6;
                            }
                            .pagination li.disabled i {
                                color: #ccc;
                            }
                            .pagination li i {
                                font-size: 16px;
                                padding-top: 6px
                            }
                            .hint-text {
                                float: left;
                                margin-top: 10px;
                                font-size: 13px;
                            }


                            </style>




               <div class="row">
                   <div class="col-xl-12 col-md-12 mb-12 ">
            <div  class=" shadow ">
                <div class="table-wrapper ">

                    <div class="table-title  ">
                        <div class="row">
                            <div class="col-sm-5">

                              <h3>LISTE DES LOCATAIRES </h3>


        					</div>
        					<div class="col-sm-7">
        					{% if user.user_type == 3 %} 	<a href="{% url 'contrat:ajouter-contrat' %}" <button type="button" name="button" class="float-right btn btn-secondary"><i class=" mdi mdi-plus-circle  "></i></button> <span>Nouveau Locataire</span></a>{%endif%}

                      	</div>



                        </div>





                    </div>

                    <div class="row">
                                <div class="col-sm-4">

                      </div>
                                <div class="col-sm-4">
                                  <!-- Topbar Search -->
                                  <form class=" d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"    action="{% url 'contrat:search-locataire'  %}" method="get" accept-charset="utf-8">
                                    <div class="input-group">
                                      <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2" name="query">
                                      <div class="input-group-append">
                                        <button class="btn btn-primary" type="button">
                                          <i class="fas fa-search fa-sm"></i>
                                        </button>
                                      </div>
                                    </div>
                                  </form>

                                </div>

                                <div class="col-sm-4">

                      </div>
                            </div>
                    <table class="table table-striped table-hover">
                        <thead>

                            <tr>

                                <th>NOM</th>
                                <th>PRENOMS </th>
        						            <th>SEXE</th>
                                <th>CONTACTS</th>
        						             <th>DATE D'ENTREE</th>
                                  <th>DATE DE SORTIE</th>
                                  <th>ACTION</th>



                            </tr>

                        </thead>
                        <tbody>
                            {% for contrat in  contrat%}

                            <tr>


                                <td >  <a href="{% url 'contrat:locataire-detail' locataire_id=contrat.pk %}">{{contrat.nom_locataire}}</a></td>
                              <td > <a href="{% url 'contrat:locataire-detail' locataire_id=contrat.pk %}">{{contrat.prenom_locataire}}</a></td>
                              <td>{{contrat.sexe}}</td>
                              <td>{{contrat.contact_no}}</td>
                              <td>{{contrat.date_entree}}</td>
                                <td>{{contrat.date_sortie}}</td>


        						<td>
        						  {% if user.user_type == 3 %} 	<a href="{% url 'contrat:modifier-contrat' pk=contrat.pk %}" class="settings" title="Settings" data-toggle="tooltip"><i class=" mdi mdi-pencil   "></i></a>{%else%}
                      <a href="{% url 'contrat:liste-contrat' %}" class="settings" title="Settings" data-toggle="tooltip"><i class=" mdi mdi-pencil "></i></a>{%endif%}

        				      {% if user.user_type == 3 %}	<a  href="{% url 'contrat:supprimer-contrat' pk=contrat.pk %}" ><i class=" mdi mdi-delete contrat-i "></i></a>{%else%}<a  href="{% url 'contrat:liste-contrat' %}" ><i class=" mdi mdi-delete contrat-i"></i></a>{%endif%}
        						</td>

                            </tr>

                            {%endfor%}



                        </tbody>
                    </table>
        			<div class="clearfix">
                        <div class="hint-text">Montrant <strong>5</strong> sorties de <strong>25</strong> entrees</div>
                        <ul class="pagination">
                            <li class="page-item disabled"><a href="#">Precedent</a></li>
                            <li class="page-item"><a href="#" class="page-link">1</a></li>
                            <li class="page-item"><a href="#" class="page-link">2</a></li>
                            <li class="page-item active"><a href="#" class="page-link">3</a></li>
                            <li class="page-item"><a href="#" class="page-link">4</a></li>
                            <li class="page-item"><a href="#" class="page-link">5</a></li>
                            <li class="page-item"><a href="#" class="page-link">Suivant</a></li>
                        </ul>
                    </div>
                </div>








            </div>

        </div >





         </div >

         <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
           <div class="modal-dialog" role="document">
             <div class="modal-content">
               <div class="modal-header">
                 <h5 class="modal-title" id="exampleModalLabel">Vous voulez quittez cette page?</h5>
                 <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                   <span aria-hidden="true">×</span>
                 </button>
               </div>
               <div class="modal-body">Selectionnez "Se deconnecter" si dessous si vous etes prets a  quitter session.</div>
               <div class="modal-footer">
                 <button class="btn btn-secondary" type="button" data-dismiss="modal">Annuler</button>
                 <a class="btn btn-primary" href="{% url 'authentication:login'%}">Se deconnecter</a>
               </div>
             </div>
           </div>
         </div>
            </div >




{% endblock content %}
